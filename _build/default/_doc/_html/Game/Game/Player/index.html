<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Player (Game.Game.Player)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">Game</a> &#x00BB; <a href="../index.html">Game</a> &#x00BB; Player</nav><h1>Module <code>Game.Player</code></h1></header><dl><dt class="spec type" id="type-player"><a href="#type-player" class="anchor"></a><code><span class="keyword">type</span> player</code></dt><dd><p>The abstract type of values representing player</p></dd></dl><dl><dt class="spec value" id="val-create_player"><a href="#val-create_player" class="anchor"></a><code><span class="keyword">val</span> create_player : string <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span><a href="../Grid/index.html#type-g">Grid.g</a> list</span> <span>&#45;&gt;</span> <a href="../Grid/index.html#type-g">Grid.g</a> <span>&#45;&gt;</span> <a href="index.html#type-player">player</a></code></dt><dd><p><code>create_player name balance properties curr_grid</code> is a new player with player_name = <code>name</code>, balance = <code>balance</code>, properties = <code>properties</code>, curr_grid = <code>curr_grid</code>, stay = 0</p></dd></dl><dl><dt class="spec value" id="val-create_player_with_stay"><a href="#val-create_player_with_stay" class="anchor"></a><code><span class="keyword">val</span> create_player_with_stay : string <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span><a href="../Grid/index.html#type-g">Grid.g</a> list</span> <span>&#45;&gt;</span> <a href="../Grid/index.html#type-g">Grid.g</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-player">player</a></code></dt><dd><p><code>create_player name balance properties curr_grid stay</code> is a new player with player_name = <code>name</code>, balance = <code>balance</code>, properties = <code>properties</code>, curr_grid = <code>curr_grid</code>, stay = <code>stay</code></p></dd></dl><dl><dt class="spec value" id="val-get_player_name"><a href="#val-get_player_name" class="anchor"></a><code><span class="keyword">val</span> get_player_name : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>get_player_name player</code> is the name of <code>player</code></p></dd></dl><dl><dt class="spec value" id="val-get_player_balance"><a href="#val-get_player_balance" class="anchor"></a><code><span class="keyword">val</span> get_player_balance : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>get_player_balance player</code> is the balance of <code>player</code></p></dd></dl><dl><dt class="spec value" id="val-get_player_properties"><a href="#val-get_player_properties" class="anchor"></a><code><span class="keyword">val</span> get_player_properties : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> <span><a href="../Grid/index.html#type-g">Grid.g</a> list</span></code></dt><dd><p><code>get_player_properties player</code> is the properties of <code>player</code></p></dd></dl><dl><dt class="spec value" id="val-get_player_curr_pos"><a href="#val-get_player_curr_pos" class="anchor"></a><code><span class="keyword">val</span> get_player_curr_pos : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> <a href="../Grid/index.html#type-g">Grid.g</a></code></dt><dd><p><code>get_player_curr_pos player</code> is the current grid of <code>player</code></p></dd></dl><dl><dt class="spec value" id="val-update_balance"><a href="#val-update_balance" class="anchor"></a><code><span class="keyword">val</span> update_balance : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="index.html#type-player">player</a></code></dt><dd><p><code>update_balance player new_balance</code> evaluates to a new player whose balance is changed to <code>new_balance</code></p></dd></dl><dl><dt class="spec value" id="val-update_balance_properties"><a href="#val-update_balance_properties" class="anchor"></a><code><span class="keyword">val</span> update_balance_properties : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../Grid/index.html#type-g">Grid.g</a> <span>&#45;&gt;</span> <a href="index.html#type-player">player</a></code></dt><dd><p><code>update_balance_properties player new_balance new_property</code> evaluates to a new player with the properties: add new_property in to player's properties by <code>new_property</code> and replace balance by <code>new_balance</code></p></dd></dl><dl><dt class="spec value" id="val-positive_mod"><a href="#val-positive_mod" class="anchor"></a><code><span class="keyword">val</span> positive_mod : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dd><p><code>positive_mod index length</code> is index mod length with wrap-around</p></dd></dl><dl><dt class="spec value" id="val-update_pos"><a href="#val-update_pos" class="anchor"></a><code><span class="keyword">val</span> update_pos : <a href="../Game_map/index.html#type-map">Game_map.map</a> <span>&#45;&gt;</span> <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-player">player</a></code></dt><dd><p><code>update_pos game_map player steps</code> evaluates to <code>player</code> whose index in <code>game_map</code> is increased by <code>steps</code></p></dd></dl><dl><dt class="spec value" id="val-buy_land"><a href="#val-buy_land" class="anchor"></a><code><span class="keyword">val</span> buy_land : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> * <a href="index.html#type-player">player</a></code></dt><dd><p><code>buy_land player map grid_index</code> evaluates to the updated map and players who buy land at <code>grid_index</code>. It fails when <code>player</code> does not have enough balance or the land is not vacant</p></dd></dl><dl><dt class="spec value" id="val-sell_land"><a href="#val-sell_land" class="anchor"></a><code><span class="keyword">val</span> sell_land : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> * <a href="index.html#type-player">player</a></code></dt><dd><p><code>sell_land player map grid_index</code> evalutes to the updated map and players who sell property at <code>grid_index</code> at a coefficient of <code>coefficient</code></p></dd></dl><dl><dt class="spec value" id="val-upgrade_land"><a href="#val-upgrade_land" class="anchor"></a><code><span class="keyword">val</span> upgrade_land : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> * <a href="index.html#type-player">player</a></code></dt><dd><p><code>upgrade_land player map grid_index</code> upgrade the grid whose index is grid_index if the grid is a property of player and the player has enough balance to upgrade; and return the update map and player as a tuple</p></dd></dl><dl><dt class="spec value" id="val-get_player_curr_index"><a href="#val-get_player_curr_index" class="anchor"></a><code><span class="keyword">val</span> get_player_curr_index : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>get_player_curr_index player</code> is the current position (grid index) of <code>player</code></p></dd></dl><dl><dt class="spec value" id="val-get_stay"><a href="#val-get_stay" class="anchor"></a><code><span class="keyword">val</span> get_stay : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>get_stay player</code> is the <code>stay</code> of <code>player</code></p></dd></dl><dl><dt class="spec value" id="val-update_stay"><a href="#val-update_stay" class="anchor"></a><code><span class="keyword">val</span> update_stay : <a href="index.html#type-player">player</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-player">player</a></code></dt><dd><p><code>update_stay player new_time</code> is <code>player</code> with stay changed to <code>new_time</code></p></dd></dl><dl><dt class="spec value" id="val-bankruptcy_toll"><a href="#val-bankruptcy_toll" class="anchor"></a><code><span class="keyword">val</span> bankruptcy_toll : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="index.html#type-player">player</a> array</span> <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> * <span><a href="index.html#type-player">player</a> array</span></code></dt><dd><p><code>bankruptcy_toll payer_index recipient_index map toll</code> process the player at <code>payer_index</code> paying the player at <code>recipient_index</code> <code>toll</code>. It evaluates to a tuple of an updated map and a player array with updated balance for each the payer and recipient. If the payer does not have enough balance, his/her properties is sold to compensate If all of the payer's properties is sold and still canot pay, the payer goes bankrupt</p></dd></dl><dl><dt class="spec value" id="val-bankruptcy_lose"><a href="#val-bankruptcy_lose" class="anchor"></a><code><span class="keyword">val</span> bankruptcy_lose : int <span>&#45;&gt;</span> <span><a href="index.html#type-player">player</a> array</span> <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> * <span><a href="index.html#type-player">player</a> array</span></code></dt><dd><p><code>bankruptcy_toll payer_index map amount</code> process the player at <code>payer_index</code> losing <code>amount</code>. It evaluates to a tuple of an updated map and a player array with updated payer balance. If the payer does not have enough balance, his/her properties is sold to compensate. If all of the payer's properties is sold and still canot pay, the payer goes bankrupt.</p></dd></dl><dl><dt class="spec value" id="val-modify_money"><a href="#val-modify_money" class="anchor"></a><code><span class="keyword">val</span> modify_money : <a href="../Game_map/index.html#type-map">Game_map.map</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="index.html#type-player">player</a> array</span> <span>&#45;&gt;</span> <span><a href="index.html#type-player">player</a> array</span></code></dt><dd><p><code>modify_money map player</code> randomly adds or minus a certain amount of money from <code>player</code>. The player might go bankrupt.</p></dd></dl><dl><dt class="spec value" id="val-draw_card"><a href="#val-draw_card" class="anchor"></a><code><span class="keyword">val</span> draw_card : int <span>&#45;&gt;</span> <span><a href="index.html#type-player">player</a> array</span> <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> <span>&#45;&gt;</span> <a href="../Game_map/index.html#type-map">Game_map.map</a> * <span><a href="index.html#type-player">player</a> array</span></code></dt><dd><p><code>draw_card player_index players map</code> draws a random card for player who has <code>player_index</code> in <code>players</code> and evalutes to updated map and players</p></dd></dl></div></body></html>